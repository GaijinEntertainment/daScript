
IF ((NOT DAS_PUGIXML_INCLUDED) AND ((NOT ${DAS_PUGIXML_DISABLED}) OR (NOT DEFINED DAS_PUGIXML_DISABLED)))
    SET(DAS_PUGIXML_INCLUDED TRUE)
    MESSAGE(STATUS "dasPUGIXML module included.")

	SET(DAS_PUGIXML_DIR ${PROJECT_SOURCE_DIR}/modules/dasPUGIXML)
	SET(PUGIXML_INCLUDE_DIR ${DAS_PUGIXML_DIR}/pugixml)

    LIST(APPEND CMAKE_MODULE_PATH ${DAS_PUGIXML_DIR})

	# libDasModulePUGIXML
	SET(DAS_PUGIXML_MODULE_SRC
		${DAS_PUGIXML_DIR}/src/dasPUGIXML.h
		${DAS_PUGIXML_DIR}/src/dasPUGIXML.cpp
	)

	# pugixml
	SET(PUGIXML_SRC
		${DAS_PUGIXML_DIR}/pugixml/pugixml.cpp
		${DAS_PUGIXML_DIR}/pugixml/pugixml.hpp
		${DAS_PUGIXML_DIR}/pugixml/pugiconfig.hpp
	)

	ADD_MODULE_CPP(PUGIXML)
	# ADD_MODULE_NATIVE(PUGIXML_boost)
	ADD_MODULE_LIB(libDasModulePUGIXML dasModulePUGIXML ${DAS_PUGIXML_MODULE_SRC} ${PUGIXML_SRC})
	MACRO(SETUP_PUGIXML lib)
		TARGET_LINK_LIBRARIES(${lib} ${PUGIXML_LIBRARIES})
		TARGET_INCLUDE_DIRECTORIES(${lib} PRIVATE ${PUGIXML_INCLUDE_DIR})
		SETUP_CPP11(${lib})
	ENDMACRO()
	SETUP_PUGIXML(libDasModulePUGIXML)
	SETUP_PUGIXML(dasModulePUGIXML)
ENDIF()
