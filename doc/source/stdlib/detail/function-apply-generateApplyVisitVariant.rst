def apply`foo : void
self:Foo
block<(name:string;x:field1type)>
arg_field1:block...
invoke()
arg_field1
"name"
self
self as name
variant_index(self)==fld
invoke(); return
if
