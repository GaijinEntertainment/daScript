AST visitor that validates code for completion safety.
