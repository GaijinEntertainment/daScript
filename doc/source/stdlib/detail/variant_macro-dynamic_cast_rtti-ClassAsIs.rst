Variant macro that implements class dynamic casting via `is` and `as`.
