Visitor that processes type tags and variable tags in a block, generating replacement rules.
Index for generating unique tag names.
Flag indicating if processing failed.
Reference to the expression block where replacement rules are added.
