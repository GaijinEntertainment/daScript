Yields only the first `total` elements and returns an array
