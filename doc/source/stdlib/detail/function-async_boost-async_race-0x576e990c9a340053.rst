This function runs two async functions concurrently and returns the
index (0 or 1) of whichever finishes first. The other is abandoned.
