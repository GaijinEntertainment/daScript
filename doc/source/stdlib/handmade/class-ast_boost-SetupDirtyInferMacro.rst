 [dirty_infer_macro] implementation.
