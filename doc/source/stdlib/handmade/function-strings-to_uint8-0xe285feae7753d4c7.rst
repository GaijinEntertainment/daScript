Converts a string to a uint8 value with optional hexadecimal parsing when `hex` is true, returning 0u if the conversion fails.
