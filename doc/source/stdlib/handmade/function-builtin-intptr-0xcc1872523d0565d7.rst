Converts a `smart_ptr` `p` to its `uint64` integer representation, useful for pointer arithmetic or serialization.
