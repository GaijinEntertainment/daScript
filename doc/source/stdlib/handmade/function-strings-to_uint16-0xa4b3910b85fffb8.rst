Converts a string to a uint16 value. Returns 0 if conversion fails. When `hex` is true, parses the string as hexadecimal.
